<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <!--frammento per l'header-->
    <th:block th:fragment="headTags">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}">
    </th:block>

</head>

<body>

    <!--Creo il fragment per i bottoni della card-->
    <a th:fragment="cardButtons(link, title)" th:href="${link}" th:text="${title}" class="btn btn-primary">
    </a>

    <!--Creo il fragment per il form-->
    <form th:fragment="form(action, method)" th:action="${action}" method="${method}"
        class="border border-black rounded p-4">

        <!--Creo i vari input-->
        <div class="mb-3">
            <label for="nome">Nome</label>
            <input type="text" placeholder="Inserisci il nome della pizza" minlength="5" maxlength="20" id="nome"
                class="form-control" th:field="*{nome}" th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('nome')}">
                <ul class="list-unstyled">
                    <li th:each="error : ${#fields.errors('nome')}" th:text="${error}"></li>
                </ul>

            </div>
        </div>

        <div class="mb-3">
            <label for="descrizione">Descrizione</label>
            <input type="text" placeholder="Inserisci la descrizione della pizza (ingredienti)" id="descrizione"
                class="form-control" th:field="*{descrizione}" th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('descrizione')}">
                <ul class="list-unstyled">
                    <li th:each="error : ${#fields.errors('descrizione')}" th:text="${error}"></li>
                </ul>

            </div>
        </div>

        <div class="mb-3">
            <label for="urlFoto">Immagine</label>
            <input type="text" placeholder="Inserisci l'immagine della pizza" id="urlFoto" class="form-control"
                th:field="*{urlFoto}" th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('urlFoto')}">
                <ul class="list-unstyled">
                    <li th:each="error : ${#fields.errors('urlFoto')}" th:text="${error}"></li>
                </ul>

            </div>
        </div>

        <div class="mb-3">
            <label for="prezzo">Prezzo</label>
            <input type="text" placeholder="Inserisci il prezzo della pizza" id="prezzo" class="form-control" min="0"
                th:field="*{prezzo}" th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('prezzo')}">
                <ul class="list-unstyled">
                    <li th:each="error : ${#fields.errors('prezzo')}" th:text="${error}"></li>
                </ul>

            </div>
        </div>

        <div class="mb-3 d-flex justify-content-around">
            <button type="submit" class="btn btn-success">Aggiorna la pizza</button>

            <button type="reset" class="btn btn-warning">Resetta il form</button>
        </div>

    </form>

    <!--Creo il fragment per gli script-->
    <div th:fragment="scripts">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    </div>
</body>

</html>